<!DOCTYPE html>
<html lang="en"><head>
<script src="digital_twins_files/libs/clipboard/clipboard.min.js"></script>
<script src="digital_twins_files/libs/quarto-html/tabby.min.js"></script>
<script src="digital_twins_files/libs/quarto-html/popper.min.js"></script>
<script src="digital_twins_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="digital_twins_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="digital_twins_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="digital_twins_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="digital_twins_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.549">

  <title>digital_twins</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="digital_twins_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="digital_twins_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="digital_twins_files/libs/revealjs/dist/theme/quarto.css">
  <link href="digital_twins_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="digital_twins_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="digital_twins_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="digital_twins_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="digital-twins-dt" class="title-slide slide level1 center">
<h1>Digital Twins (DT)</h1>
<ul>
<li>Differences between digital shadow, digital model, digital twin</li>
<li>Enclosing on a definition…</li>
<li>3 components: phyisical model, virtual model, communication services</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/twin_model_shadow.png?raw=true"></p>
<figcaption>Differences between twins</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/dt.png?raw=true"></p>
<figcaption>DT components</figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="dt-in-literature---1" class="title-slide slide level1 center">
<h1>DT in literature - #1</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Still a buzzword</li>
<li>Rising number of publications</li>
<li>Mostly non IT papers</li>
<li>Not really twins…</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/dt_by_year.png?raw=true"></p>
<figcaption>DT by year (Fei, Tao 2022)</figcaption>
</figure>
</div>
</div>
</div>
<div>

</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/dt_by_journal.png?raw=true"></p>
<figcaption>DT by journal (Fei, Tao 2022)</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/goal.png?raw=true"></p>
<figcaption>DT by goal (Fei, Tao 2022)</figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="dt-in-literature---2" class="title-slide slide level1 center">
<h1>DT in literature - #2</h1>
<ul>
<li>Mostly manufacturing, smart cities, health domain</li>
<li>Still mostly application oriented, focused on visualization (e.g.&nbsp;Unity3D)</li>
<li>While concept of data as a core component is arising..</li>
<li>… Still left unconsidered in most research papers.</li>
<li>However, some standard models are emerging…</li>
<li>Most cited: Fei Tao, Univ. of Beijing</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/5dim.png?raw=true"></p>
<figcaption>5-Dimensional DT (Fei, Tao 2020)</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/digital_model.png?raw=true"></p>
<figcaption>Virtual Entity architecture (Fei, Tao, 2020)</figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="dt-in-industry" class="title-slide slide level1 center">
<h1>DT in industry</h1>
<ul>
<li><b>Azure Digital Twins</b></li>
<li><b>AWS IoT Twin Maker</b></li>
<li><b>Digital Twin Consortium</b>f</li>
</ul>
</section>

<section id="azure-digital-twins" class="title-slide slide level1 center">
<h1>Azure Digital Twins</h1>
<ul>
<li>FIWARE like</li>
<li>Digital Twin Definition Language (DTDL) - JSON-LD/NGSI-LDgi</li>
<li>Offers interfaces to control the physical device (not supported)</li>
<li>Native support for Azure Data Explorer (Relational, time-series, ingestion &amp; analytics)</li>
<li>Not clear if it facilitates or provides integration with Azure big data services.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/dtdl.png?raw=true"></p>
<figcaption>Example of DTDL</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/azure_dt_historical.png?raw=true"></p>
<figcaption>Azure DT Platform</figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="aws-iot-twin-maker" class="title-slide slide level1 center">
<h1>AWS IoT Twin Maker</h1>
<ul>
<li>Similar to Azure Digital Twins (also JSON Entity-Component model)</li>
<li>Different JSON semantics</li>
<li>Also graph representation</li>
<li>Native support for Grafana, AWS IoT Site Wise (which leverages AWS Timestream, a time-series DB)</li>
</ul>
<div class="columns">
<div class="column" style="width:70%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/aws_dt.png?raw=true"></p>
<figcaption>Key concept and components AWS IoT Twin Maker (<a href="https://docs.aws.amazon.com/iot-twinmaker/latest/guide/what-is-twinmaker.html">documentation here</a>)</figcaption>
</figure>
</div>
</div><div class="column" style="width:30%;">
<ul>
<li><b>Component</b> JSON documents that describe the connection between a data source and AWS IoT Twin Maker. They access external datasource via a Lambda function defined in the JSON</li>
<li>Each workspace is assigned an S3 Bucket</li>
</ul>
</div>
</div>
</section>

<section id="dt-data-related-aspects" class="title-slide slide level1 center">
<h1>DT Data Related Aspects</h1>

</section>

<section id="dt-data---modeling" class="title-slide slide level1 center">
<h1>DT Data - Modeling</h1>
<ul>
<li>Focused on entities last state</li>
<li>In literature, wide spread of AutomationML, XML, etc.</li>
<li>Mostly graphs (too many connections between data)</li>
<li>Initially pure linked data and semantic graphs (RDF, ontologies)</li>
<li>New standards (JSON-LD, NGSI-LD) to seamelessly integrate semi-structured data, property graphs and semantic graphs (also supported by RDF)</li>
</ul>
</section>

<section id="dt-data---a-brief-history" class="title-slide slide level1 center">
<h1>DT Data - A brief history</h1>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/history.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Simplified technology history</p></section>

<section id="ngsi-ld-next-generation-service-interface-linked-data" class="title-slide slide level1 center">
<h1>NGSI-LD (Next Generation Service Interface – Linked Data)</h1>
<ul>
<li>Evolution of NGSI v2, powered by FIWARE</li>
<li>Defines a <a href="https://www.etsi.org/deliver/etsi_gs/CIM/001_099/009/01.06.01_60/gs_CIM009v010601p.pdf">metamodel</a> and APIs (<a href="https://swagger.lab.fiware.org/">Swagger URL</a>) for property graphs</li>
<li>“id” now must be an URN (or an URI HTTP)</li>
<li>The entity must have a “type” attribute which represent the class of the entity</li>
<li>The class must then be defined in the <span class="citation" data-cites="context">@context</span></li>
<li><span class="citation" data-cites="context">@context</span> implicitly includes the core <span class="citation" data-cites="context">@context</span> of NGSI-LD:</li>
</ul>
<div class="columns">
<div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/NGSI_LD_metamodel.png?raw=true"></p>
<figcaption>NGSI-LD Metamodel</figcaption>
</figure>
</div>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/ngsi_example.png?raw=true"></p>
<figcaption>NGSI-LD Entity Example</figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="ngsi-ld-vs.-ngsiv2" class="title-slide slide level1 center">
<h1>NGSI-LD vs.&nbsp;NGSIv2</h1>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/ngsi_ngsild.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Comparison NGSIv2 - NGSI-LD</p></section>

<section id="json-ld" class="title-slide slide level1 center">
<h1>JSON-LD</h1>
<ul>
<li>Make JSON machine-readable again!</li>
<li>Defined to merge semantic data and commonly used JSON documents</li>
<li>Standard for encoding linked data</li>
<li>FIWARE is evolving as well… (<a href="https://github.com/FIWARE/context.Orion-LD?tab=readme-ov-file">Orion-LD</a>)</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/json_ld_example.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">JSON-LD Example</p></section>

<section id="dt-data---architectures" class="title-slide slide level1 center">
<h1>DT Data - Architectures</h1>
<ul>
<li>Most papers don’t even mention it!</li>
<li>When they do, they focus on entities last-state.</li>
<li><b>Is it really different from a Lambda-like big data architecture?</b></li>
<li>e.g.&nbsp;Digital Twin Consortium</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/dt_cons_arch.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://www.digitaltwinconsortium.org/">Digital Twin Consortium Architecture</a></p></section>

<section id="dt-data---lifecycle" class="title-slide slide level1 center">
<h1>DT Data - Lifecycle</h1>
<ul>
<li>Something is starting to pop out</li>
<li>“Trash” literature ? (non IT academics, e.g.&nbsp;<a href="https://www.sciencedirect.com/science/article/pii/S2405844024025349?via%3Dihub">Dihan et. al., 2024</a>)</li>
<li>Are we reinventing the wheel?</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/dt_data.png?raw=true"></p>
<figcaption>Digital Twin Data (<a href="https://digitaltwin1.org/articles/1-2/v2">Fei, Tao 2023</a>)</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/dt_lifecycle.png?raw=true"></p>
<figcaption>Data Methodology (<a href="https://digitaltwin1.org/articles/1-2/v2">Fei, Tao 2023</a>)</figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="what-next" class="title-slide slide level1 center">
<h1>What next?</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><b> Data Architectures </b>
<ul>
<li>Focus on historical data</li>
<li>Digital Twins Platforms (!!!)</li>
</ul></li>
<li><b> Data modeling </b> (on two different abstraction levels)
<ul>
<li>Meta-Models for historicized data in a DT (domain driven?)</li>
<li>Standardazing a wider concept (e.g.&nbsp;interoperability between different DT)</li>
</ul></li>
<li><b> Methodology </b>
<ul>
<li>Watering Digital Twin</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/gantt.svg?raw=true"></p>
<figcaption>P.h.D. Proposal timeline</figcaption>
</figure>
</div>
</div>
</div>
</section>

<section id="carbonaro-1709" class="title-slide slide level1 center">
<h1>Carbonaro 17/09</h1>
<ul>
<li>Loro usano property-knowledge graph</li>
<li>Open word assumption: solo in AND …</li>
<li>CONSTRUCT (è quello che utilizzo per le “implementedBy”)</li>
<li>Hanno necessità di separare ciò che è corrente e ciò che è passato.</li>
<li>SWRL + SPARQL</li>
<li>Utilizzano GraphDB (hanno provato)</li>
<li>Dov’è il confine tra ciò che è nuovo e ciò che è passato? Tradeoff tra quanto velocemente cambiano le cose? Un sensore che cambia ogni 10ms non posso storicizzare.</li>
</ul>
</section>

<section>
<section id="benchmark-workload" class="title-slide slide level1 center">
<h1>Benchmark workload</h1>

</section>
<section id="aspects" class="slide level2">
<h2>Aspects</h2>
<ul>
<li><strong>Dimensions</strong>
<ul>
<li>Spatial</li>
<li>Temporal</li>
</ul></li>
<li><strong>Workload</strong>:
<ul>
<li>Operational</li>
<li>Analytical</li>
</ul></li>
<li><strong>Mode</strong>:
<ul>
<li>Online (?)</li>
<li>Offline (?)</li>
</ul></li>
</ul>
</section>
<section id="from-iotabench-icpe-2015" class="slide level2">
<h2>From <a href="https://dl.acm.org/doi/10.1145/2668930.2688055">IoTAbench, ICPE 2015</a></h2>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/data_model/iota_model.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">IoTABench data model</p><ul>
<li><p>Total readings: counts the total number of readings (i.e., rows) for the given time period.</p></li>
<li><p>Total consumption: sums the resource consumption for the given time period.</p></li>
<li><p>Peak consumption: Create a sorted list of the aggregate consumption in each ten minute interval in the given time period.</p></li>
<li><p>Top consumers: create a list of the distinct consumers, sorted by their total (monthly) consumption.</p></li>
<li><p>Time of Usage Billing: calculate the monthly bill for each consumer based on the time of usage.</p></li>
</ul>
</section>
<section id="from-smartbench-vldb-2020" class="slide level2">
<h2>From <a href="https://dl.acm.org/doi/abs/10.14778/3407790.3407791">SmartBench, VLDB 2020</a></h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Coverage (s ∈ Sensors): returns the location of a given sensor s.</p></li>
<li><p>InverseCoverage(L, τ), where L is a list of locations, and τ is a sensor type: lists all sensors that can generate observations of a given type τ that can cover the locations specied in L.</p></li>
<li><p>Observations (S ∈ Sensors, <span class="math inline">\(t_b\)</span>, <span class="math inline">\(t_e\)</span>): selects observations from sensors in the list of sensors S during the time range [<span class="math inline">\(t_b\)</span>; <span class="math inline">\(t_e\)</span>].</p></li>
<li><p>C Observations (τ , cond, <span class="math inline">\(t_b\)</span>, <span class="math inline">\(t_e\)</span>): selects observations generated by sensors of given type τ in the time range [<span class="math inline">\(t_b\)</span>; <span class="math inline">\(t_e\)</span>] that satisfy the condition cond.</p></li>
<li><p>Statistics(S ⊆ Sensors, A, F, <span class="math inline">\(t_b\)</span>, <span class="math inline">\(t_e\)</span>): retrieves statistics (e.g., average) based on functions specifed in F during the time range [<span class="math inline">\(t_b\)</span>; <span class="math inline">\(t_e\)</span>]. The statistics are generated by firstrst grouping the data by sensor, and further by the value of the attributes in the list A</p></li>
<li><p>Trajectories(<span class="math inline">\(t_b\)</span>, <span class="math inline">\(t_e\)</span>, <span class="math inline">\(l_b\)</span>, <span class="math inline">\(l_e\)</span>): retrieves the names of users who went from location <span class="math inline">\(l_b\)</span> to location <span class="math inline">\(l_e\)</span> during the time interval [<span class="math inline">\(t_b\)</span>; <span class="math inline">\(t_e\)</span>]</p></li>
<li><p>CoLocate(<span class="math inline">\(u\)</span> ∈ Users, <span class="math inline">\(t_b\)</span>, <span class="math inline">\(t_e\)</span>): retrieves all users who were in the same Location as user <span class="math inline">\(u\)</span> during the specifoed time period.</p></li>
<li><p>TimeSpent(<span class="math inline">\(u\)</span> ∈ Users, η, tb, te): retrieves the average time spent per day by subject <span class="math inline">\(u\)</span> in locations of type η,</p></li>
<li><p>Continuous Query(τ, α, β): retrieves, after every α seconds (hop size), the minimum, maximum, and average occupancy levels of locations of type τ in the last β seconds (window size).</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/data_model/smartbench_user.png?raw=true"></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/data_model/smartbench_sensor.png?raw=true"></p>
<figcaption>SmartBench data model</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="other-benchmarks" class="slide level2">
<h2>Other benchmarks</h2>
<h5 id="spatial-db">Spatial DB</h5>
<ul>
<li>The SEQUOIA 2000 Storage Benchmark, <b style="color: blue;">SIGMOD 1993</b></li>
<li>Building a ScalableGee-SpatialDBMS: Technology, Implementation,and Evaluation <b style="color: blue;">SIGMOD 1997</b></li>
</ul>
<h5 id="time-series-db">Time Series DB</h5>
<ul>
<li>TS-Benchmark: A Benchmark for Time Series Databases, <b style="color: blue;">ICDE 2021</b></li>
<li>SciTS: A Benchmark for Time-Series Databases in Scientific Experiments and Industrial Internet of Things, <b style="color: blue;">International Conference on Scientific and Statistical Database Management 2022 (SSDBM) </b></li>
<li>TSM-Bench: Benchmarking Time Series Database Systems for Monitoring Applications, <b style="color: blue;"> VLDB 2023 </b></li>
</ul>
<h5 id="spatio-temporal">Spatio-Temporal</h5>
<ul>
<li>BerlinMOD: A benchmark for moving object databases, <b style="color: blue;">VLDB Journal 2009</b></li>
<li>Benchmarking moving object functionalities of DBMSs using real-world spatiotemporal workload, <b style="color: blue;">International Conference on Mobile Data Management 2022</b></li>
<li>Performance Evaluation of MongoDB and PostgreSQL for spatio-temporal data, <b style="color: blue;">EDBT/ICDT Workshops 2019</b></li>
<li>How to manage massive spatiotemporal dataset from stationary and non-stationary sensors in commercial DBMS?, <b style="color: blue;">Knowledge and Information Systems 2024</b></li>
</ul>
</section></section>
<section>
<section id="postgis" class="title-slide slide level1 center">
<h1>PostGIS</h1>

</section>
<section id="spatial-functions" class="slide level2">
<h2>Spatial Functions</h2>
<ul>
<li>Routing. With pgRouting and road data you can find optimal routes and do different network analytics;</li>
<li>Polygon skeletonization. This function enables you to build the medial axis of a polygon on the fly;</li>
<li>Geometry subdivision. Dividing your geometries for further processing can significantly speed up your processes;</li>
<li>Clustering. Find clusters and patterns from your data. With the AI hype at peak, the k-means might be even more interesting for some than before…</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/postgis/geometry_hierarchy.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">PostGIS Geometry Hierarchy</p></section>
<section id="indexing" class="slide level2">
<h2>Indexing</h2>
<ul>
<li><p>Indexes have to perform quickly in order to be useful. So instead of providing exact results, as B-trees do, spatial indexes provide approximate results. The question “what lines are inside this polygon?” will be instead interpreted by a spatial index as “what lines have bounding boxes that are contained inside this polygon’s bounding box?”</p></li>
<li><p>The most common implementations are the <a href="http://www.gitta.info/SpatPartitio/en/html/ObjOriDecomp_learningObject2.html">R-Tree</a> and Quadtree (used in PostGIS), but there are also grid-based indexes and GeoHash indexes implemented in other spatial databases.</p></li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/postgis/bbox.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">BBox Example</p><ul>
<li>The way the database efficiently answers the question “what lines intersect the yellow star” is to first answer the question “what boxes intersect the yellow box” using the index (which is very fast) and then do an exact calculation of “what lines intersect the yellow star” only for those features returned by the first test.</li>
</ul>
</section></section>
<section>
<section id="apache-age" class="title-slide slide level1 center">
<h1>Apache AGE</h1>
<ul>
<li>Extends PostgreSQL with graph semantics</li>
<li>No graph data model!</li>
<li>Wrapper upon PostgreSQL relational storage</li>
<li>A table for each node/vertex label</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/apache_age/architecture.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Apachce AGE under the hood architecture</p></section>
<section id="setup" class="slide level2">
<h2>Setup</h2>
<p>Create and load AGE extension</p>
<pre><code>CREATE EXTENSION IF NOT EXISTS age;
LOAD 'age';</code></pre>
<p>Allow user access to such path</p>
<pre><code>SET search_path = ag_catalog, "$user", public;</code></pre>
<p>Create a node A</p>
<pre><code>SELECT * 
FROM cypher('test_graph', $$
    CREATE (:label {property:"Node A"})
$$) as (v agtype);</code></pre>
<p>Create a node B</p>
<pre><code>SELECT * 
FROM cypher('test_graph', $$
    CREATE (:label {property:"Node B"})
$$) as (v agtype);</code></pre>
<p>Create an edge between node A and node B</p>
<pre><code>SELECT * 
FROM cypher('test_graph', $$
    MATCH (a:label), (b:label)
    WHERE a.property = 'Node A' AND b.property = 'Node B'
    CREATE (a)-[e:RELTYPE {property:a.property + '&lt;-&gt;' + b.property}]-&gt;(b)
    RETURN e
$$) as (e agtype);</code></pre>
<p>Select those edges</p>
<pre><code>SELECT * from cypher('test_graph', $$
        MATCH (V)-[R]-(V2)
        RETURN V,R,V2
$$) as (V agtype, R agtype, V2 agtype);</code></pre>
</section></section>
<section>
<section id="spatio-temporal-dbms" class="title-slide slide level1 center">
<h1>Spatio Temporal DBMS</h1>

</section>
<section id="a-survey-on-spatio-temporal-data-analytics-systems-acm-surveys-2022" class="slide level2">
<h2><a href="https://dl.acm.org/doi/full/10.1145/3507904">A Survey on Spatio-temporal Data Analytics Systems, ACM Surveys 2022</a></h2>
<ul>
<li>Categorizes spatio-temporal DBMSs in groups:
<ul>
<li>Spatial DBMS:
<ul>
<li>RDBMS</li>
<li>No-SQL DBMS</li>
</ul></li>
<li>Big data spatio-temporal processing infrastructures
<ul>
<li>Hadoop based infrastructures</li>
<li>Spark based infrastructures</li>
<li>No-SQL infrastructures</li>
</ul></li>
<li>Programming languages
<ul>
<li>DASK</li>
<li>RAPIDS</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="spatial-dbms" class="slide level2">
<h2>Spatial DBMS</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="rdbms">RDBMS</h3>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/spatiotemp_dbms/rdbms.png?raw=true"></p>
<figcaption>Taxonmy of RDBMS for spatio-temporal data</figcaption>
</figure>
</div>
<ul>
<li>Due to the I/O bottleneck, lack of parallelism and scalability, the performance of these systems deteriorated with the increasing volume of data.</li>
<li>PostgreSQL -&gt; PostgresXL</li>
<li>MobilityDB was developed as an extension of PostgreSQL/PostGIS, providing support for storing and querying moving objects data (trajectory). This support includes spatio-temporal data types, indexing techniques, and query operations. Recently, MobilityDB emerged as a distributed system by integrating with Citus for processing massive trajectory data</li>
</ul>
</div><div class="column" style="width:50%;">
<h3 id="no-sql-dbms">No-SQL DBMS</h3>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/spatiotemp_dbms/nosql.png?raw=true"></p>
<figcaption>Taxonmy of No-SQL DBMS for spatio-temporal data</figcaption>
</figure>
</div>
<ul>
<li>Currently, the spatial support of NoSQL databases lacks available spatial operations compared to spatial RDBMSs.</li>
</ul>
</div>
</div>
</section>
<section id="rdbms-vs-nosql-for-spatial-data" class="slide level2">
<h2>RDBMS vs NoSQL for Spatial Data</h2>
<p><a href="https://ceur-ws.org/Vol-2322/BMDA_3.pdf">Performance Evaluation of MongoDB and PostgreSQL for Spatio-temporal Data, EDBT/ICDT Workshops 2019</a></p>
<div class="columns">
<div class="column" style="width:30%;">
<h5 id="dataset-size">Dataset Size</h5>
<ul>
<li>11 GB, 43 288 vessels, 146.491.511 records</li>
<li>MongoDB: 116 GB</li>
<li>PostgreSQL: 32 GB</li>
</ul>
</div><div class="column" style="width:35%;">
<h5 id="dataset-schema">Dataset Schema</h5>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/spatiotemp_dbms/mongo_postgre_dataset_schema.png?raw=true"></p>
</div><div class="column" style="width:35%;">
<h5 id="spatio-temporal-queries">Spatio-temporal Queries</h5>
<ul>
<li>Find coordinates of different amount of vessels from 1/May/2016 - 31/July/2016 (entire time window) within the whole bounded area, Q1;</li>
<li>Find coordinates of vessels for different time windows within the whole bounded area, Q2;</li>
<li>Find coordinates of vessels for different geographical polygons within the entire time window, Q3.</li>
</ul>
</div>
</div>
<ul>
<li>MongoDB stores data in GeoJson format, each record has many extra characters + unique auto created ObjectId. PostgreSQL ingests data as CSV, with adding the_geom column that contains the POINT geometries for latitude and longitude.</li>
</ul>
<h5 id="results">Results</h5>
<ul>
<li>The results show that PostgreSQL with the PostGIS extension, outperforms MongoDB in all queries.</li>
</ul>
</section>
<section id="big-spatio-temporal-data-processing-infrastructures" class="slide level2">
<h2>Big spatio-temporal data processing infrastructures</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="hadoop-based">Hadoop based</h3>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/spatiotemp_dbms/hadoop.png?raw=true"></p>
<figcaption>Taxonmy of Hadoop based systems for spatial data</figcaption>
</figure>
</div>
<ul>
<li>Due to the lack of spatio-temporal data types, partitioning, and indexing techniques, Hadoop-GIS &amp; SpatialHadoop suffer querying spatio-temporal datasets</li>
<li>ST-Hadoop was developed by considering attributes of discrete spatio-temporal point data, not trajectory data. So data might be wrong-sharded when indexed.</li>
<li>Summit is an extension of ST-Hadoop to include data types, partitioning and indexing techniques, and operations, for processing trajectory data.</li>
<li>Bakli et al.&nbsp;[27] have proposed HadoopTrajectory, which adds a diverse set of data types and operators into the core of Hadoop to store and process trajectory data.</li>
</ul>
</div><div class="column" style="width:50%;">
<h3 id="spark-based">Spark-based</h3>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/spatiotemp_dbms/spark.png?raw=true"></p>
<figcaption>Taxonmy of Spark based systems for spatial data</figcaption>
</figure>
</div>
<ul>
<li>First five spatial data processing solutions are not fully compliant with the ISO standard and OGC specifications.</li>
<li>STARK integrates spatio-temporal support to Spark RDDs</li>
<li>DiStRDF is a distributed system for processing spatio-temporal RDF data; however, these last two focus on discrete data points and not trajectories.</li>
<li>TrajSpark does not have any support for SQL-like queries.</li>
<li>UITraMan has added an off-heap key-value store, Chronicle Map</li>
<li>Among TrajSpark, DITA, and UITraMan, only TrajSpark alleviates the overhead of repartitioning the whole dataset when a new batch of dataset arrives. Thus, TrajSpark achieves near real-time trajectory processing capability. Besides, this newbatch of data is loaded as RDDs in Spark, which are immutable, and any updates on RDD create a new RDD, which is costly.</li>
<li>Dragoon [93] is a hybrid system for processing both historical (offline) and streaming (online) trajectories. The offline module of Dragoon is similar to UITraMan, but Dragoon has utilized Chronicle Map in such a way that it works for both historical and streaming trajectories.</li>
<li><b> All these systems are for processing vector spatial and spatio-temporal data. None of these systems has support for raster data except Apache Sedona. </b></li>
<li>Beast supports both vector and raster data with multidimensional data types and partition and index structures.</li>
</ul>
</div>
</div>
</section>
<section id="big-spatio-temporal-data-processing-infrastructures-1" class="slide level2">
<h2>Big spatio-temporal data processing infrastructures</h2>
<h3 id="nosql-based">NoSQL based</h3>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/spatiotemp_dbms/nosql_big.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Taxonmy of NoSql based big systems for spatial data</p><ul>
<li>GeoMesa linearizes the keyspace by transforming multi-dimensional data (location, timestamp) into 1D keys using space-filling curves.</li>
<li>JUST incorporates leverages HBase, GeoMesa, and Spark. Introduces two new indexing techniques, Z2T and XZ2T and efficient compression mechanism that improves the query performance significantly.</li>
<li>TrajMesa, horizontal storage schema (H-Store) is proposed. Allowing to store an entire trajectory in one-row with compression.</li>
</ul>
</section>
<section id="recent-literature" class="slide level2">
<h2>Recent literature</h2>
<ul>
<li>SpaceTimeDB (commercial, (?))</li>
<li>Springbok, ICDE 2024</li>
<li>CUPID, Future Generation Computer Systems 2024</li>
<li>TMan, ICDE 2024</li>
</ul>
<h3 id="other-research-trends">Other Research Trends</h3>
<h5 id="ml-for-query-optimization">ML for query optimization</h5>
<ul>
<li>Spatial Query Optimization With Learning, VLDB 2024</li>
</ul>
<h5 id="indexing-1">Indexing</h5>
<ul>
<li>A Time-Identified R-Tree: A Workload-Controllable Dynamic Spatio-Temporal Index Scheme for Streaming Processing, International Journal of Geo-Information 2024</li>
</ul>
</section>
<section id="a-case-study-for-digital-twins" class="slide level2">
<h2>A case study for Digital Twins</h2>
<ul>
<li>Graph + TimeSeries (Apache AGE + PostgreSQL + PostGIS + Timescale)</li>
<li>MobilityDB (PostgreSQL + PostGIS + trajectory data support)</li>
<li>Beast</li>
<li>CUPID</li>
<li>Springbok</li>
</ul>
</section>
<section id="case-study-0---apache-age-timescaledb-postgis" class="slide level2">
<h2>Case study 0 - Apache Age + TimescaleDB + PostGIS</h2>
<h3 id="emerged-considerations">Emerged considerations</h3>
<ul>
<li>Given a FIWARE document, what’s a Property and what’s an Edge? - It’s an edge if it links to an NGSI URN
<ul>
<li>Should the graph enforce some kind of schema? E.g. metamodel - I beleve so but dunno</li>
<li>If not, Do I have to check wether a FIWARE key-value pair links to a node?
<ul>
<li>But then, I have to check all properties, understand if its an edge or a property, remove it from the entity if it’s an edge, check if the edge destination already exists and if it does not, create it and link it to the source node-</li>
</ul></li>
<li>What about device composition? e.g.&nbsp;moisture grid</li>
</ul></li>
<li>What about Ids? Apache AGE uses its own custom IDs that <b> cannot </b> be disabled</li>
<li><b> What happens when a new measurements comes by?</b>
<ul>
<li>I have to check if such node exists, if not, it’s a new edge, if it is</li>
</ul></li>
<li>An entity comes in: there’s already a node with such id; is it an update? Is it a measurement?</li>
</ul>
<h3 id="modellazioni-measurement">Modellazioni Measurement</h3>
<ul>
<li>AgriRobot non è un device, come capisco se qualcosa ha dei measurement da storicizzare?</li>
<li>Agri robot non storicizza le controlled property, come faccio a capire cosa devo storicizzare?</li>
</ul>
<h3 id="problemi-sui-dati">Problemi sui dati</h3>
<ul>
<li>I dati dei pinotech hanno il dateObserved sbagliato (“Z” alla fine della data)</li>
<li>Per creare un arco, devo prima avere entrambi i nodi altrimenti non funzia</li>
</ul>
</section>
<section id="age-middleware" class="slide level2">
<h2>Age Middleware</h2>
<ul>
<li><p>Builds a connection to a Apache Age + PostGIS + Timescale DBMSs.</p></li>
<li><p>Processes JSON entities following the NGSI schema.</p>
<h5 id="entity-required-schema">Entity required schema</h5>
<ul>
<li>“id”: follows the NGSI standard (urn-ngsi-[…]) and define the existence of an entity in the graph</li>
<li>“type”: defines the label of the node/edge in the graph.</li>
</ul>
<h5 id="entity-optional-schema">Entity optional schema</h5>
<ul>
<li>“hasDevice”: defines device composition. Each value of this key needs to be a json representing an entity.</li>
</ul></li>
</ul>
<h5 id="building-the-graph">Building the graph</h5>
<ul>
<li>Each distinct entity (unique “id”) gets mapped into the graph as a node.</li>
<li>Each entity key that has an ID as a value becomes an edge with the key as the edge label.</li>
<li>If an entity with the given “id” exists, update such entity in the graph</li>
</ul>
<h5 id="parsing-into-measurement">Parsing into measurement</h5>
<p>Measurement = TimescaleTable(timestamp, device_id, controlledProperty, value, raw_value)</p>
<ul>
<li>A mapping can defined for each entity “type”: it’s a Python functions that extracts the measurements from a JSON entity with the Measurement table structure</li>
</ul>
</section>
<section id="environment-setup" class="slide level2">
<h2>Environment setup</h2>
<p>CREATE EXTENSION IF NOT EXISTS age; CREATE EXTENSION IF NOT EXISTS postgis; LOAD ‘age’; SET search_path = ag_catalog, “$user”, public;</p>
<p>CREATE TABLE measurements( timestamp timestamp, device_id text, controlled_property text, location geometry, value float, raw_value text ) SELECT create_hypertable(‘measurements’, ‘timestamp’);</p>
<p>ALTER TABLE measurement ADD PRIMARY KEY(timestamp, device_id, controlled_property)</p>
<p>CREATE INDEX location_index ON measurements USING GIST (location);</p>
</section>
<section id="problematiche" class="slide level2">
<h2>Problematiche</h2>
<p>Tre cause delle problematiche: - Modellazione concettuale (e.g.&nbsp;no tipo di device in measurements) - Architetturale (Apache Age) - Ottimizzazione query (e.g.&nbsp;no tabella location ausiliaria)</p>
<h3 id="espressività">Espressività</h3>
<ul>
<li>Mancanza di un’interfaccia uniforme sul modello, devi interfacciarti e integrare due tipologie di modelli dati diversi</li>
<li>No storicizzazione di ciò che non è measurement</li>
</ul>
<h3 id="modellazione">Modellazione</h3>
<ul>
<li>Se parti dal grafo arrivi ad un punto in cui joini sul relazionale, va fatta attenzione alla query su grafo in quanto è molto facile ritorni un insieme di valori ridondanti che fanno esplodere il tempo computazionale</li>
<li>Cosa succede sul grafo se il nodo esiste già? Lo aggiorno, ma in che modo? Sovrascrivo il vecchio? Aggiungo le diff? E le diff in negativo vanno tolte? Cosa succede ai suoi archi? Se nella nuova versione non vedo un arco?</li>
</ul>
<h3 id="random-considerations-constantly-updated">Random considerations (constantly updated)</h3>
</section>
<section id="timescaledb" class="slide level2">
<h2><a href="https://docs.timescale.com/use-timescale/latest/extensions/">TimescaleDB</a></h2>
<ul>
<li>Build upon a PostgreSQL instance.</li>
<li>Based on <b>hypertables</b>:
<ul>
<li>Logical table</li>
<li>Organizes the data in chunks (of a predefined time range) based on some time/bigint column of the table (B-Tree).</li>
<li>Each chunk gets mapped into a table.</li>
<li>Other columns can be added in partitioning columns</li>
<li>Support for distributed hypertables</li>
<li>Supports a large set of PostgreSQL extensions (e.g.&nbsp;PostGIS, PostGIS_Raster)</li>
</ul></li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/timescale/chunks.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Table organization in chunks</p></section>
<section id="timescaledb---query-language" class="slide level2">
<h2>TimescaleDB - Query language</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Uses standard SQL with a more operators/functions:
<ul>
<li><p>time_bucket(‘1 hour’, column_name): same as date_trunc in PostgreSQL but with custom granularity</p></li>
<li><p>…</p></li>
<li><p><a href="https://docs.timescale.com/api/latest/hyperfunctions/">Hyperfunctions</a>:</p>
<ul>
<li>Time-weighted averages;</li>
<li>Percentile approximation;</li>
</ul></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/timescale/hyperfunctions.png?raw=true"></p>
<figcaption>Hyperfunctions list</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="timescaledb---further-functionalities" class="slide level2">
<h2>TimescaleDB - Further functionalities</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><b>Hybrid row-column oriented data model</b>: define a retention period where data older will be stored as column-oriented data.
<ul>
<li>Column-Oriented data can still be performed DML/DDL operations upon.</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/timescale/hybrid_model.png?raw=true"></p>
<figcaption>Timescale hybrid model</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<h5 id="timescaledb---hybrid-model-optimizations">TimescaleDB - Hybrid model optimizations</h5>
<ul>
<li><b>segmentby</b>: partion data inside chunk on [column1, …]</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/timescale/segmentby.png?raw=true"></p>
<figcaption>Segmentby example - partition by device id</figcaption>
</figure>
</div>
<ul>
<li><b>orderby</b>: orders data within a chunk based on time and stores metadata w.r.t min/max values in the chunk (similar to Databricks data-skipping)</li>
</ul>
<p>Together: data is first grouped by the segmentby column, then ordered based on the orderby parameter, and finally divided into smaller, timestamp-ordered “mini-batches,” each containing up to 1,000 rows.</p>
</div>
</div>
</section>
<section id="timescaledb---further-functionalities-1" class="slide level2">
<h2>TimescaleDB - Further functionalities</h2>
<h5 id="continuous-aggregates">Continuous aggregates</h5>
<ul>
<li>Like a continuous materialized view</li>
<li>Automatically (in background) maintain the results from the query.</li>
<li>Refreshed automatically in the background as new data is added, or old data is modified.</li>
</ul>
<h5 id="tiered-storage">Tiered storage</h5>
<p>Move least-accessed data into a different tablespace, in order to reduce the volume of data in highly-accessed data</p>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/timescale/tiered_storage.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Tiered architecture example</p></section>
<section id="time-series-dbmss---influxdb" class="slide level2">
<h2>Time Series DBMSs - InfluxDB</h2>
<ul>
<li>Not based upon the relational model (organizes data in tags and fields)</li>
<li>Not really CRUD db: more like a CR-ud, prioritizing the creating and reading data over update and destroy</li>
<li>Leverages an Log-Structured Merge Tree like data structure.</li>
</ul>
</section>
<section id="log-structured-merge-tree-lsm-tree" class="slide level2">
<h2>Log-Structured Merge Tree (LSM Tree)</h2>
<ul>
<li>Two storage areas: in memory and on disk.</li>
<li>Data is first written to an in-memory structure (MemTable, usually an AVL tree), then moved to disk in batches in form of immutable SSTables (Sorted String Table).</li>
<li>Each SSTable gets a correspective <b>sparse-index</b> file (usually kept in-memory) that describes the keys and the offset in the table they can be found.</li>
<li>Whenever a given level is full, data is compressed and reorganized into the following level</li>
<li>Out-of-Place Updates and Deletes: updates and deletes are handled as new inserts, and are applied lazily.</li>
</ul>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/lsm_tree/lsm_tree.png?raw=true"></p>
<figcaption>Writing data in a LSM tree</figcaption>
</figure>
</div>
</div><div class="column" style="width:60%;">
<ul>
<li><b>MemTable</b>: in-memory temporary sorting area. As it fills up, its contents are flushed to disk in a batch of sorted data structures called Sorted String Tables (SSTables).</li>
<li><b>Sorted String Tables (SSTables)</b>: They store key-value data in sorted order (by key), enabling efficient queries and range scans. Each SSTable represents a snapshot of data at a specific point in time.</li>
<li><b>Levels</b>: SSTables are organized into levels. Lower levels contain more recent data, while higher levels store compacted data.</li>
</ul>
</div><ul>
<li><strong>Compaction and merging become vital!</strong></li>
</ul>
</div>
</section>
<section id="lsm-tree---merging-and-compaction" class="slide level2">
<h2>LSM Tree - Merging and Compaction</h2>
<div class="columns">
<div class="column" style="width:70%;">
<ul>
<li>Two main policies, both organize disk components into logical levels (or tiers):
<ul>
<li><b>Tiering merge</b>: maintains up to T components per level:
<ul>
<li>When level L is full, its T components are merged into a new component at level L + 1;</li>
<li>Better write performance;</li>
</ul></li>
<li><b>Leveling merge</b>: fixed size level, each level only maintains one sorted component, components are constantly merged to avoid key overlaps between components:
<ul>
<li>Component at level L is T times larger than the component at level L − 1;</li>
<li>Component at level L will be merged multiple times with incoming components at level L − 1;</li>
<li>When it fills up, it will then be mergedinto level L + 1;</li>
<li>Better read performance;</li>
<li>Higher write amplification;</li>
<li>Most common.</li>
</ul></li>
</ul></li>
</ul>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/lsm_tree/merge_techniques.png?raw=true"></p>
<figcaption>Example of merging techniques</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="lsm-tree---merging-v.2" class="slide level2">
<h2>LSM Tree - Merging v.2</h2>
<ul>
<li>The two main merge paradigms considered are stack-based and leveled. In stack-based policies, components are organized as a stack, where the most recent components are higher in the stack. Leveled policies use (almost) fixedsize components, with newer components on higher levels; lower levels have more components per level. Stack-based LSM trees usually have better write performance and good read performance. Leveled LSM tree is the most popular paradigm in the industry with very good read performance, but higher write amplification in general</li>
</ul>
</section>
<section id="lsm-tree---pro-cons" class="slide level2">
<h2>LSM Tree - Pro &amp; Cons</h2>
<h5 id="pro">Pro</h5>
<ul>
<li>Efficient for write-heavy workloads by minimizing the number of disk writes.</li>
<li>High throughput;</li>
<li>High level of compression;</li>
</ul>
<h5 id="cons">Cons</h5>
<ul>
<li>Poor read performances on random accesses on small chunks of data (bloom filters are used to mitigate);</li>
<li>Requires constant merging and compression (resource wise);</li>
<li>Read amplification;</li>
<li>Write amplification, specifically bad for SSDs.</li>
</ul>
<h5 id="optimizations">Optimizations</h5>
<ul>
<li>Optimizing interactions with hardware (e..g., NVMEs SSDs);</li>
<li>Compaction algorithms;</li>
<li>Partitioning: range-partition the disk components (SSTables) of LSM-trees into multiple (usually fixed-size) small partitions.</li>
</ul>
</section>
<section id="lsm-tree---partitioning" class="slide level2">
<h2>LSM Tree - Partitioning</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Breaks a large component merge operation into multiple smaller ones.</li>
<li>To merge an SSTable from level L into level L + 1:
<ul>
<li>all overlapping SSTables at level L + 1 are selected;</li>
<li>then merged with it to produce new SSTables still at level L + 1</li>
</ul></li>
<li>Could be applied to tiered merge policy;
<ul>
<li>However, each level can contain multiple SSTables with overlapping key ranges.</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<h6 id="pro-1">Pro</h6>
<ul>
<li>Reduces time, resources and disk utilization during merging</li>
<li>For skewed updates, the merge frequency of the components with cold update ranges can be greatly reduced.</li>
</ul>
</div>
</div>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/lsm_tree/partitioning.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Partitioning example</p></section>
<section id="lsm-tree---evolutions" class="slide level2">
<h2>LSM Tree - Evolutions</h2>
<ul>
<li>A lot of LSM-tree based data structure have been proposed, playing with the trade-offs offered by the native implementation.</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/lsm_tree/lsm_evolutions.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Considerations on LSM based variants</p></section></section>
<section>
<section id="influxdb" class="title-slide slide level1 center">
<h1>InfluxDB</h1>

</section>
<section id="influxdb---data-model" class="slide level2">
<h2>InfluxDB - Data Model</h2>
<ul>
<li><b>Bucket</b>: Named location where time series data is stored. A bucket can contain multiple measurements.
<ul>
<li><b>Measurement</b>: Logical grouping for time series data. Points in a given measurement share the tags. A measurement contains multiple tags and fields.
<ul>
<li><b>Tags</b>: Key-value pairs with values that differ, but do not change often. Tags are meant for storing metadata for each point–for example, something to identify the source of the data like host, location, station, etc.</li>
<li><b>Fields</b>: Key-value pairs with values that change over time–for example: temperature, pressure, stock price, etc.</li>
<li><b>Timestamp</b>: Timestamp associated with the data. When stored on disk and queried, all data is ordered by time.</li>
</ul></li>
</ul></li>
<li><b>Point</b>: Single data record identified by its measurement, tag keys, tag values, field key, and timestamp.</li>
<li><b>Series</b>: A group of points with the same measurement, tag keys, and tag values.</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/influx_db/data_model_explained.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">InfluxDB data model</p></section>
<section id="influxdb---storage-engine" class="slide level2">
<h2>InfluxDB - Storage Engine</h2>
<ul>
<li>Writes and retrieves data from disk; four components:
<ul>
<li>Write Ahead Log (WAL): retains data when storage engine restarts. Ensures data is durable in case of unexpected failure.</li>
<li>Cache: in-memory copy of data points currently stored in the WAL.
<ul>
<li>Organizes points by key (measurement, tag set, and unique field)</li>
<li>Gets queried at runtime and merged with the data stored in Time Structured Merge (.tsm) files</li>
</ul></li>
<li>Time Structured Merge Tree (.tsm) files</li>
<li>Time Structured Index (.tsi) files</li>
</ul></li>
<li>Each write requests follows:
<ul>
<li>Is appended to the end of the WAL file;</li>
<li>The write request is stored in an in-memory cache and data is sorted by key (measurement name, tag set and unique field key).</li>
<li>Once cache’s size is above a threshold, a snapshot is taken and saved as .tsm file. Corresponding WAL entries are removed</li>
</ul></li>
<li>.tsi files are created with a similar procedure WAL + cache.</li>
</ul>
</section>
<section id="influxdb---time-structured-merge-tree-tsm" class="slide level2">
<h2>InfluxDB - Time Structured Merge Tree (TSM)</h2>
<ul>
<li>Specialization of a Log-Structured Merge Tree</li>
<li>Stores each series data in a columnar format</li>
<li>To improve efficiency, the storage engine only stores differences (or deltas) between values in a series.</li>
<li><b>Series</b>: A group of points with the same measurement, tag keys, and tag values.</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/influx_db/data_model.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">InfluxDB TSM organization</p></section>
<section id="influxdb---time-structured-merge-index-tsi" class="slide level2">
<h2>InfluxDB - Time Structured Merge Index (TSI)</h2>
</section>
<section id="influxdb---query-language" class="slide level2">
<h2>InfluxDB - Query language</h2>
<ul>
<li>Flux: non-SQL-like syntax</li>
<li>InfluxQL: SQL-like but with less operatiors (e.g.&nbsp;no UNION, JOIN and HAVING)</li>
</ul>
</section>
<section id="timescale-vs.-influxdb" class="slide level2">
<h2>Timescale vs.&nbsp;InfluxDB</h2>
<ul>
<li>Schema variability: while on a TimescaleDB table schema has to be defined upfront (can’t add dimensions to a non-empty table), InfluxDB is much more flexible</li>
<li>SQL JOINs aren’t available for InfluxDB measurements in InfluxQL, they are with Flux. <a href="https://docs.influxdata.com/influxdb/v1/concepts/crosswalk/">doc</a></li>
</ul>
</section>
<section id="overall" class="slide level2">
<h2>Overall</h2>
<ul>
<li>Timeseries DBMS (TSDBMS) are optimized for temporal data, each TSDBMS follows its own philosophy.</li>
<li>Very-High frequency of writes</li>
<li>Most read queries are range-scan queries;</li>
<li>Very few/none update/delete operations.<br>
</li>
<li>Focus on data compression (!! since volumes easily become in the order of PB, and since most queries focus on recent data), e.g.&nbsp;retention policies</li>
<li>Focus on opimizations, e.g.&nbsp;data-skipping, downsampling, user-defined-functions (e.g.&nbsp;hyperfunctions in Timescale)</li>
</ul>
</section></section>
<section>
<section id="neo4j" class="title-slide slide level1 center">
<h1>Neo4j</h1>

</section>
<section id="neo4j---data-layout" class="slide level2">
<h2>Neo4j - Data layout</h2>
<ul>
<li>Leverages <b>index-free adjacency</b>: bidirectional joins are precomputed and stored in the database as relationships, as opposed to RDBMS where joins need to be materialized during query time via foreign keys.</li>
<li>Data organized in <i>store files</i>:
<ul>
<li>nodes;</li>
<li>relationships;</li>
<li>labels;</li>
<li>properties.</li>
</ul></li>
</ul>
</section>
<section id="neo4j---nodes-and-relationships" class="slide level2">
<h2>Neo4j - Nodes and Relationships</h2>
<ul>
<li>Each entity is assigned an ID.</li>
<li>Fixed sized records, allowing fast lookups (node_id:100, its record begins at 100*9 bytes).</li>
<li>Relationships are doubly linked list.</li>
<li>A relationship “belongs” to two nodes.</li>
</ul>
<div class="columns">
<div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/neo4j/nodes_rel.png?raw=true"></p>
<figcaption>Neo4j nodes and relationships storage</figcaption>
</figure>
</div>
</div><div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/neo4j/nodes_rel_explained.png?raw=true"></p>
<figcaption>Example of Neo4j storage</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="neo4j---legacy-format" class="slide level2">
<h2>Neo4j - Legacy Format</h2>
<ul>
<li>Data spread multiple files, in different records;</li>
<li>Accessing data can cause multiple page faults;</li>
<li>Performance deegrades over time as data turns fragmented;</li>
<li>Performance degrades quickly when ratio of store size to pagecache increases;</li>
<li>When page fault occurs, need to access data on disk.</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/neo4j/legacy_format.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Example of Neo4j legacy format access pattern</p></section>
<section id="neo4j---block-format" class="slide level2">
<h2>Neo4j - Block Format</h2>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/neo4j/block_format.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Example of Neo4j block format</p><ul>
<li>Available ATM only in Neo4j enterprise edition;</li>
<li>Leverages <b>data co-location</b>: graph local-data is stored together on disk;</li>
<li>Organizes data in three storage: small store, dynamic store and dense store;</li>
<li>Data is organized w.r.t. its size.</li>
</ul>
</section>
<section id="neo4j-block-format---small-store" class="slide level2">
<h2>Neo4j block format - Small store</h2>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/neo4j/small_store.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Neo4j small store</p><ul>
<li>In most dataset, the majority of nodes fit in this layout</li>
<li>Up to 10 labels/properties and 5 relationships</li>
<li>Static <b>128 B</b> blocks
<ul>
<li><b>64B Node data</b>: labels and properties</li>
<li><b>64B Relationships data</b>: relationships and properties</li>
</ul></li>
<li>But not all nodes fit in this store…</li>
</ul>
</section>
<section id="neo4j-block-format---dynamic-store" class="slide level2">
<h2>Neo4j block format - Dynamic store</h2>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/neo4j/dynamic_store.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Neo4j dynamic store</p><ul>
<li>Grows and shrinks in units of 128B blocks</li>
<li>Two different stores for nodes and relationships</li>
<li><b> Dynamic node store</b>:
<ul>
<li>Up to 8192 B records;</li>
<li>Used when labels/properties exceed small store capacity.</li>
</ul></li>
<li><b> Dynamic relationship store</b>:
<ul>
<li>Up to 2048 B records;</li>
<li>Used when relations exceed small store capacity;</li>
<li>or node has at least one dense relationship type.</li>
</ul></li>
<li>But a node might have thousands or milions of relationships…</li>
</ul>
</section>
<section id="neo4j-block-format---dense-store" class="slide level2">
<h2>Neo4j block format - Dense store</h2>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/neo4j/dense_store.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Neo4j dense store</p><ul>
<li>Based on multi-root generational B+Tree</li>
<li>Dense relationship store
<ul>
<li><b>Separate root for each node</b></li>
<li>Effectively a map of {this node, type, direction, other node} -&gt; properties</li>
<li>Used when relationships of a type exceed the dynamic store capacity</li>
</ul></li>
</ul>
</section>
<section id="neo4j-block-format---key-improvements" class="slide level2">
<h2>Neo4j block format - Key improvements</h2>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/neo4j/block_format_access.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Accessing block format</p><ul>
<li><b>Fast queries</b>: Fewer disk/memory accesses.</li>
<li><b>More memory efficient</b>: Data colocations means performance gains; fewer pages need to be loaded -&gt; fewer page faults -&gt; fewer I/O operations</li>
<li><b>Faster property access</b>: Properties inlined with nodes/relationships</li>
</ul>
</section>
<section id="neo4j---community-edition" class="slide level2">
<h2>Neo4j - Community Edition</h2>
<ul>
<li>Open source version of Neo4j</li>
<li><b>Aligned</b> data layout</li>
<li>No info whatsoever available anywhere</li>
</ul>
</section>
<section id="nice-considerations" class="slide level2">
<h2>Nice considerations</h2>
<ul>
<li>In addition to the organization of the local index discussed above, which determines how data is organized in a single LSM component (file), another key design choice for spatial LSM indexes is the merge policy, which determines when and how components are merged. The</li>
</ul>
</section></section>
<section>
<section id="asterixdb" class="title-slide slide level1 center">
<h1>AsterixDB</h1>

</section>
<section id="asterixdb---introduction" class="slide level2">
<h2>AsterixDB - Introduction</h2>
<ul>
<li>Distributed LSM-based DBMS
<ul>
<li>Hash-partitioning on primary key</li>
<li>Secondary indexes are node-local
<ul>
<li>Run in parallel<br>
</li>
<li>Retrieve a set of PKs</li>
</ul></li>
</ul></li>
<li>JSON based data model (ADM)</li>
<li>Asterix Query Language (AQL) as query language</li>
</ul>
<blockquote>
<p>AsterixDB stores information about the field defined a priori as separate metadata; information about fields that are ”just there” in instances of open Datatypes is stored within each instance.</p>
</blockquote>
</section>
<section id="asterixdb---data-model" class="slide level2">
<h2>AsterixDB - Data Model</h2>
<ul>
<li><b>Dataverse</b>: akin to a DB in RDBMS; place to create and manage Datatypes and Datasets</li>
<li><b>Datatype</b>: specifies what its definer wants AsterixDB to know, a priori, about a kind of data that it will be asked to store.
<ul>
<li><i>Closed Datatype</i>:prevents users from storing objects with extra or illegally missing data.</li>
<li><i>Open Datatype</i>: instances are allowed to have additional content, beyond what the type specifies</li>
</ul></li>
<li><b>Dataset</b>: stored collection of data instances of a Datatype</li>
</ul>
<p><strong>Data is stored (and indexed) as a B<sup>+</sup>-Tree keyed on primary key</strong></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/asterixdb/datatype.png?raw=true"></p>
<figcaption>AsterixDB Datatype example</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/asterixdb/dataset.png?raw=true"></p>
<figcaption>AsterixDB Dataset example</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="asterixdb---internals" class="slide level2">
<h2>AsterixDB - Internals</h2>
<ul>
<li>Secondary indexes are standard <i>LSM-ified</i> indexes (e.g.&nbsp;LSM-B<sup>+</sup>Tree)</li>
<li>Given its LSM-based representation, big focus on handling updates and granting ACID properties (<u>record-level consistency</u>)</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/asterixdb/lsmified_trees.png?raw=true" class="r-stretch quarto-figure-center"><p class="caption">Example of secondary LSM B<sup>+</sup>-Tree and LSM R-tree</p><p>The final state of insertion, flushing, then deletion applied to a secondary LSM R-tree and a secondary LSM B<sup>+</sup>-Tree. Both indexes are storing entries of the form &lt;SK; PKi&gt; where SK is a secondary key and PK is the associated primary key. The LSM R-tree handles deletion by inserting the primary keys of the deleted entries in its deleted-key B<sup>+</sup>-tree, while the LSM B<sup>+</sup>-tree handles it by inserting a control entry, denoted by &lt;SK;PKi&gt; into its memory component.</p>
</section>
<section id="rocksdb-vs.-asterixdb" class="slide level2">
<h2>RocksDB vs.&nbsp;AsterixDB</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Comparison</th>
<th style="text-align: center;">AsterixDB</th>
<th style="text-align: right;">RocksDB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Stats</td>
<td style="text-align: center;">None</td>
<td style="text-align: right;">None</td>
</tr>
<tr class="even">
<td style="text-align: left;">Compaction</td>
<td style="text-align: center;">focus on managing updates</td>
<td style="text-align: right;">key-based</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Partitioning</td>
<td style="text-align: center;">Hash-partitioning</td>
<td style="text-align: right;">None</td>
</tr>
<tr class="even">
<td style="text-align: left;">Queries</td>
<td style="text-align: center;">SQL-Like</td>
<td style="text-align: right;">KV DBMS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Workload balancing</td>
<td style="text-align: center;">Native (hash-partitioning on keys)</td>
<td style="text-align: right;">None</td>
</tr>
</tbody>
</table>
</section>
<section id="asterixdb---deploy" class="slide level2">
<h2>AsterixDB - Deploy</h2>
<pre><code>git clone https://github.com/ManuelePasini/asterixdb.git
cd asterixdb</code></pre>
<p>Install maven if not present</p>
<pre><code>sudo apt install maven</code></pre>
<p>Install jdk21</p>
<pre><code>sudo apt install openjdk-21-jdk -y
sudo update-alternatives --config java</code></pre>
<p>Build AsterixDB</p>
<pre><code>mvn clean package -DskipTests</code></pre>
<p>Run AsterixDB</p>
<pre><code>cd asterixdb/asterixdb/asterix-server/target/apache-asterixdb-0.9.10-SNAPSHOT

// Deploy node controller
bin/asterixncservice &gt; red-service.log 2&gt;&amp;1 &amp;

// Deploy cluster controller
bin/asterixcc -config-file opt/local/conf/cc.conf &gt; cc.log 2&gt;&amp;1 &amp;l</code></pre>
<p>Kill AsterixDB</p>
<pre><code>ps aux | grep asterix | grep -v grep | awk '{print $2}' | xargs kill -9</code></pre>
</section>
<section id="asterixdb---measurements-dataverse-setup" class="slide level2">
<h2>AsterixDB - Measurements dataverse setup</h2>
<pre><code>drop dataverse Measurements_Dataverse if exists;
create dataverse Measurements_Dataverse;
use Measurements_Dataverse;

create type PunctualMeasurement as closed {
  meas_id: string, // device_id + meas_type + timestamp
  timestamp: datetime,      
  device_id: string,
  controlled_property: string,
  `value`: int,
  location: point
};  

create type SpatialMasurement as closed {
  meas_id: string, // device_id + meas_type + timestamp
  dateObserved: datetime,       
  device_id: string,
  controlled_property: string,
  `value`: int,
  location: polygon
};

create dataset Measurements(PunctualMeasurement)
primary key meas_id;

create index meas_location
on Measurements(location) type rtree;</code></pre>
</section>
<section id="temporal-graphs" class="slide level2">
<h2>Temporal graphs</h2>
<p>Three basic approaches:</p>
<ul>
<li><b>Duration-labeled temporal graphs (DLTG&lt;)</b> : edges are labeled with a value representing the duration of the relationship between two nodes</li>
<li><b>Interval-labeled temporal graphs (ILTG)</b>: each edge is a temporal edge representing a relationship from a vertex <i>u</i> to another vertex <i>v</i>, valid during a time interval <span class="math inline">\(I = [t_ZZs, t_e]\)</span>.</li>
<li><b>Snapshot-based temporal graphs (SBTG)</b>: A temporal graph <span class="math inline">\(G[t_i, t_j]\)</span> in a time interval <span class="math inline">\([t_i, t_j]\)</span>, is a sequence {<span class="math inline">\(G_{t_i}, G_{t_i+1} ,..., G_{t_j}\)</span>} of graph snapshots.</li>
</ul>

<img data-src="https://github.com/ManuelePasini/slides-markdown/blob/master/slides/images/dt/temporal_graphs/duration_temporal_graph.png?raw=true" class="r-stretch"></section>
<section id="temporal-graphs-1" class="slide level2">
<h2>Temporal graphs</h2>
<h5 id="aeong---vldb-2024"><a href="https://www.vldb.org/pvldb/vol17/p1515-lu.pdf">AeonG</a> - VLDB, 2024</h5>
<ul>
<li>introduces two temporal syntax extensions in the MATCH clause:
<ul>
<li><b>Time-Point queries</b>: FOR <i>TT</i> AS OF <i>𝑡</i> , which retrieves all graph objects legal at time <i>𝑡</i></li>
<li><b>Time-Slice queries</b>: FOR <i>TT</i> FROM <i>𝑡1</i> TO <i>𝑡2</i>, which locates all graph objects consistently legal within the time range from <i>𝑡1</i> to <i>𝑡2</i>.</li>
</ul></li>
</ul>
<h5 id="t-gql---vldb-journal-2023"><a href="https://ri.itba.edu.ar/server/api/core/bitstreams/06cfb092-353f-40bf-8ff7-789102b54146/content">T-GQL</a> - VLDB Journal, 2023</h5>
<ul>
<li><p>A collection of operators for computing different kinds of temporal paths in a graph, capturing different temporal path semantics.</p>
<ul>
<li><b>SNAPSHOT</b></li>
</ul>
<p>Who where the friends of the friends of Cathy in 2018?</p>
<pre><code>SELECT p2.Name as friend_name
  MATCH (p1:Person) - [:Friend*2] -&gt; (p2:Person)
  WHERE p1.Name = ’Cathy Van Bourne’
  SNAPSHOT ’2018’</code></pre>
<ul>
<li><b>BETWEEN</b></li>
</ul>
<p>Where did the friends of Pauline live between 2000 and 2004?</p>
<pre><code>SELECT c.Name
MATCH (p1:Person) - [:Friend] -&gt; (p2:Person),
(p2) - [:LivedIn] -&gt; (c:City)
WHERE p1.Name = ’Pauline Boutler’
BETWEEN ’2000’ and ’2004’</code></pre>
<ul>
<li><b>WHEN</b></li>
</ul>
<p>Who were friends of Mary while she was living in Antwerp?</p>
<pre><code>SELECT p2.Name as friend_name
MATCH (p1:Person) - [:Friend] -&gt; (p2:Person)
WHERE p1.Name = ’Mary Smith-Taylor’
WHEN
MATCH (p1) - [e:LivedIn] -&gt; (c:City)
WHERE c.Name = ’Antwerp’</code></pre></li>
</ul>
</section>
<section id="temporal-graphs-2" class="slide level2">
<h2>Temporal graphs</h2>
<h5 id="clock-g">Clock-G</h5>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="digital_twins_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="digital_twins_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="digital_twins_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="digital_twins_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="digital_twins_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="digital_twins_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="digital_twins_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="digital_twins_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="digital_twins_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="digital_twins_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1100,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>